#!/bin/bash
score=0
word="$1"
[ "$word" ] || read word
while say "$word" -v Alex; do
	if [ "$word" = death -o "$word" = disease -o "$word" = evil -o "$word" = depression -o "$word" = sorrow -o "$word" = murder ]; then
		read hiname hiscore 2> /dev/null < ~/.trg || hiscore=0
		if [ $score -gt $hiscore ]; then
			hiscore=$score
			sleep 0.5
			echo
			sleep 0.5
			echo NEW HIGH SCORE
			echo -n "Your  Name: "
			read name
			hiname=$name
			echo
			echo "$name" $score > ~/.trg
		fi
		echo Your Score: $score
		echo High"  "Name: "$hiname"
		echo High Score: $hiscore
		exit
	fi
	word=$(curl "https://api.datamuse.com/words?topics=evil+disease+death+depression+sorrow&rel_trg=${word}" 2> /dev/null | jq -r .[$((RANDOM % 3))].word)
	if [ "$word" = null ]; then
		exit
	fi
	echo "$word" &
	score=$((score + 1))
done
